const t=document.getElementById("game");if(!t.getContext)throw new Error("Canvas not compatible");const e=t.getContext("2d");class s{x=0;y=0;size=75;delta=20;constructor(t){if(t){const{x:e,y:s,size:i,delta:h}=t;e&&(this.x=e),s&&(this.y=s),i&&(this.size=i),h&&(this.delta=h)}this.draw()}draw(){e.beginPath(),e.arc(this.x+this.size,this.y+this.size,50,0,2*Math.PI,!0),e.moveTo(this.x+110,this.y+this.size),e.arc(this.x+this.size,this.y+this.size,35,0,Math.PI,!1),e.moveTo(this.x+65,this.y+65),e.arc(this.x+60,this.y+65,5,0,2*Math.PI,!0),e.moveTo(this.x+95,this.y+65),e.arc(this.x+90,this.y+65,5,0,2*Math.PI,!0),e.stroke()}clone(){return new s({x:this.x,y:this.y,size:this.size,delta:this.delta})}}const i={onKeyDown(t){switch(t.key){case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;case"ArrowUp":this.moveUp();break;case"ArrowDown":this.moveDown()}}},h={onKeyDown(t){switch(t.key){case"a":this.moveLeft();break;case"d":this.moveRight();break;case"w":this.moveUp();break;case"s":this.moveDown()}}},o=(t,e)=>{const s=e.clone();return Object.assign(s.__proto__||{},t),Object.assign(s.__proto__,n),s},n={init(){this.boundOnKeyDown=this.onKeyDown.bind(this),document.addEventListener("keydown",this.boundOnKeyDown)},destroy(){document.removeEventListener("keydown",this.boundOnKeyDown)},moveLeft(){this.x-this.delta<0||(this.x-=this.delta)},moveUp(){this.y-this.delta<0||(this.y-=this.delta)},moveRight(){this.x+2*this.size+this.delta>t.width||(this.x+=this.delta)},moveDown(){this.y+2*this.size+this.delta>t.width||(this.y+=this.delta)}},a=(t=>{const e=o(i,t);return e.init(),e})(new s({x:50,y:50,delta:100})),r=(t=>{const e=o(h,t);return e.init(),e})(new s({x:150,y:150,delta:100}));!function s(){e.clearRect(0,0,t.width,t.height),a.draw(),r.draw(),window.requestAnimationFrame(s)}();
